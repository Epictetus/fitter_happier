FitterHappier
=============

This is an insanely silly plugin given its simplicity, but I keep telling EY customers the same thing over and over.  This is a plugin you install that provides a controller that's perfect for monitoring mongrel availability.  A lot of people would give us their landing page and that blocks mongrels longer than needed.  This disables sessions, layouts, and logging while rendering a simple string you can checksum against.

Installation
============
% cd vendor/plugins
% git clone git@github.com:atmos/fitter_happier.git

Example
=======

You can do simple checks with monit like this:

if failed host 127.0.0.1 port 5000
  protocol HTTP request /fitter_happier with checksum 6684951cdf1757cc708898b4ee3526c4 then restart

You can also do this in a keepalived/LVS setup:

virtual_server 169.254.y.z 80 {
  delay_loop 15
  lb_algo lc
  lb_kind NAT
  nat_mask 255.255.255.0
  persistence_timeout 0
  protocol TCP
  sorry_server 127.0.0.1 80
  virtualhost www.myfacetube.com
  real_server 10.0.1.34 80 {
    weight 1
    HTTP_GET {
      url {
        path /fitter_happier
        status_code 200
      }
      connect_port 80
      connect_timeout 5
      nb_get_retry 20
      delay_before_retry 2
    }
  }
  real_server 10.0.1.35 80 {
    weight 1
    HTTP_GET {
      url {
        path /fitter_happier
        status_code 200
      }
      connect_port 80
      connect_timeout 5
      nb_get_retry 20
      delay_before_retry 2
    }
  }
}


.. do whatever you do to get this added to your


Copyright (c) 2008 atmos, released under the MIT license
